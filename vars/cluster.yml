---
cluster_name: example
base_domain: example.com
platform: baremetal  # Cambia a 'vmware' o 'qemu' según el entorno

network:
  machine_cidr: 192.168.111.0/24
  cluster_network_cidr: 10.128.0.0/14
  cluster_network_host_prefix: 23
  service_network_cidr: 172.30.0.0/16

master_replicas: 3
worker_replicas: 0

pull_secret: '{{ lookup("file", "~/.pull-secret") }}'
ssh_key: '{{ lookup("file", "~/.ssh/id_rsa.pub") }}'

iso_output_dir: ./iso
coreos_iso_url: https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/latest/latest/rhcos-live.x86_64.iso
install_config_output_dir: ./install

# Configuración específica para VMware cuando platform == 'vmware'
vmware:
  vcenter_hostname: vcenter.example.com
  username: administrator@vsphere.local
  password: password
  datacenter: Datacenter
  folder: /Datacenter/vm/OCP
  validate_certs: false
  disk:
    label: "Hard disk 2"
    datastore: datastore1
    type: thin
    disk_mode: persistent
    unit_number: 1
    scsi_controller: 0

nodes:
  - name: master-0
    role: master
    mac: aa:bb:cc:dd:ee:00
    vm_name: master-0
    vmware:
      disk_label: "Hard disk 2"
      datastore: datastore1
    bmc:
      address: https://ilo-master-0.example.com
      username: admin
      password: password
    network:
      interface: eno1
      address: 192.168.111.10
      prefix: 24
      gateway: 192.168.111.1
      dns: 192.168.111.1
  - name: master-1
    role: master
    mac: aa:bb:cc:dd:ee:01
    vm_name: master-1
    vmware:
      disk_label: "Hard disk 2"
      datastore: datastore1
    bmc:
      address: https://ilo-master-1.example.com
      username: admin
      password: password
    network:
      interface: eno1
      address: 192.168.111.11
      prefix: 24
      gateway: 192.168.111.1
      dns: 192.168.111.1
  - name: master-2
    role: master
    mac: aa:bb:cc:dd:ee:02
    vm_name: master-2
    vmware:
      disk_label: "Hard disk 2"
      datastore: datastore1
    bmc:
      address: https://ilo-master-2.example.com
      username: admin
      password: password
    network:
      interface: eno1
      address: 192.168.111.12
      prefix: 24
      gateway: 192.168.111.1
      dns: 192.168.111.1

# Configuración específica para QEMU/KVM cuando platform == 'qemu'
qemu:
  masters:
    - name: master-0
      mac: 52:54:00:aa:bb:00
      network:
        interface: enp1s0
        address: 192.168.111.20
        prefix: 24
        gateway: 192.168.111.1
        dns: 192.168.111.1
    - name: master-1
      mac: 52:54:00:aa:bb:01
      network:
        interface: enp1s0
        address: 192.168.111.21
        prefix: 24
        gateway: 192.168.111.1
        dns: 192.168.111.1
    - name: master-2
      mac: 52:54:00:aa:bb:02
      network:
        interface: enp1s0
        address: 192.168.111.22
        prefix: 24
        gateway: 192.168.111.1
        dns: 192.168.111.1
  workers:
    - name: worker-0
      mac: 52:54:00:aa:cc:00
      network:
        interface: enp1s0
        address: 192.168.111.30
        prefix: 24
        gateway: 192.168.111.1
        dns: 192.168.111.1
